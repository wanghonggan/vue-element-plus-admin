import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang.ba15bad3.js";import{_ as a}from"./Search.vue_vue_type_script_setup_true_lang.b94a90ab.js";import{d as t,u as o,s as l,aO as s,r as i,o as r,h as m,w as p,a as n,k as d,g as c,e as u,y as b,t as f}from"./index.6c93e529.js";import{E as g}from"./el-button.e4ac2c34.js";import{E as j}from"./el-tag.c2dc5123.js";import{_}from"./Table.vue_vue_type_script_lang.38c484dd.js";import{g as x,d as y}from"./index.0e0c70e8.js";import{u as h}from"./useTable.019f5fff.js";import{u as v}from"./useEmitt.0a8f7b44.js";import{u as D}from"./useCrudSchemas.e2b8f5d5.js";import"./el-card.4d399944.js";import"./el-popper.d501c030.js";import"./index.1be34ebc.js";import"./Form.40370550.js";import"./el-col.978d1a6c.js";import"./el-input.d40254f0.js";import"./event.0d56b427.js";import"./index.fdc7f5fe.js";import"./tsxHelper.21c89763.js";import"./index.39a5e946.js";import"./scroll.a030fdde.js";import"./debounce.44d5c571.js";import"./validator.217700c8.js";import"./el-input-number.97b70ac4.js";import"./el-switch.2b11eb5b.js";import"./el-divider.8250fc34.js";import"./InputPassword.2870d7a5.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./style.css_vue_type_style_index_0_src_true_lang.b41fb403.js";import"./aria.062511a5.js";import"./browser.30c5ae69.js";import"./useForm.d0954446.js";import"./el-message-box.b6a5799d.js";import"./el-overlay.5beb0f36.js";import"./vnode.2d90af28.js";import"./tree.b6e955f9.js";const w={class:"mb-10px"},S=t({name:"ExamplePage"}),C=t({...S,setup(t){const{push:S}=o(),{register:C,tableObject:k,methods:P}=h({getListApi:x,delListApi:y,response:{list:"list",total:"total"}}),{getList:L,setSearchParams:R}=P;L(),v({name:"getList",callback:e=>{"add"===e&&(k.currentPage=1),L()}});const{t:z}=d(),E=l([{field:"index",label:z("tableDemo.index"),type:"index"},{field:"title",label:z("tableDemo.title"),search:{show:!0}},{field:"author",label:z("tableDemo.author")},{field:"display_time",label:z("tableDemo.displayTime")},{field:"importance",label:z("tableDemo.importance"),formatter:(e,a,t)=>s(j,{type:1===t?"success":2===t?"warning":"danger"},(()=>z(1===t?"tableDemo.important":2===t?"tableDemo.good":"tableDemo.commonly")))},{field:"pageviews",label:z("tableDemo.pageviews")},{field:"content",label:z("exampleDemo.content"),table:{show:!1}},{field:"action",width:"260px",label:z("tableDemo.action")}]),{allSchemas:T}=D(E),A=()=>{S("/example/example-add")},F=i(!1),O=async(e,a)=>{var t;k.currentRow=e;const{delList:o,getSelections:l}=P,s=await l();F.value=!0,await o(a?s.map((e=>e.id)):[null==(t=k.currentRow)?void 0:t.id],a).finally((()=>{F.value=!1}))},U=(e,a)=>{S(`/example/example-${a}?id=${e.id}`)};return(t,o)=>(r(),m(n(e),null,{default:p((()=>[c(n(a),{schema:n(T).searchSchema,onSearch:n(R),onReset:n(R)},null,8,["schema","onSearch","onReset"]),u("div",w,[c(n(g),{type:"primary",onClick:A},{default:p((()=>[b(f(n(z)("exampleDemo.add")),1)])),_:1}),c(n(g),{loading:F.value,type:"danger",onClick:o[0]||(o[0]=e=>O(null,!0))},{default:p((()=>[b(f(n(z)("exampleDemo.del")),1)])),_:1},8,["loading"])]),c(n(_),{pageSize:n(k).pageSize,"onUpdate:pageSize":o[1]||(o[1]=e=>n(k).pageSize=e),currentPage:n(k).currentPage,"onUpdate:currentPage":o[2]||(o[2]=e=>n(k).currentPage=e),columns:n(T).tableColumns,data:n(k).tableList,loading:n(k).loading,pagination:{total:n(k).total},onRegister:n(C)},{action:p((({row:e})=>[c(n(g),{type:"primary",onClick:a=>U(e,"edit")},{default:p((()=>[b(f(n(z)("exampleDemo.edit")),1)])),_:2},1032,["onClick"]),c(n(g),{type:"success",onClick:a=>U(e,"detail")},{default:p((()=>[b(f(n(z)("exampleDemo.detail")),1)])),_:2},1032,["onClick"]),c(n(g),{type:"danger",onClick:a=>O(e,!1)},{default:p((()=>[b(f(n(z)("exampleDemo.del")),1)])),_:2},1032,["onClick"])])),_:1},8,["pageSize","currentPage","columns","data","loading","pagination","onRegister"])])),_:1}))}});export{C as default};
